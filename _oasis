AlphaFeatures:          ocamlbuild_more_args
Authors:                Xavier GuÃ©rin
BetaFeatures:           section_object
BuildTools:             ocamlbuild
Description:            PPX plugin for the OCAML OPAM hardcaml package.
FilesAB:                META.ab
FindlibVersion:         >= 1.3.2
Homepage:               https://github.com/xguerin/ppx_hardcaml
License:                ISC
Name:                   ppx_hardcaml
OASISFormat:            0.4
OCamlVersion:           >= 4.03
Plugins:                DevFiles (0.4)
Synopsis:               PPX plugin for the OCAML OPAM hardcaml package.
Version:                1.1.0

SourceRepository github
  Type:     git
  Location: https://github.com/xguerin/ppx_hardcaml.git

Executable ppx_hardcaml
  Path:           src
  MainIs:         ppx_hardcaml.ml
  CompiledObject: best
  BuildDepends:   compiler-libs.common,
                  ppx_tools,
                  ppx_tools.metaquot

Executable ppx_hardcaml_test
  Path:           tests
  MainIs:         PpxHardcamlTest.ml
  CompiledObject: best
  ByteOpt:        -ppx ../_build/src/ppx_hardcaml.native
  NativeOpt:      -ppx ../_build/src/ppx_hardcaml.native
  Install:        false
  Build$:         flag(tests)
  BuildDepends:   hardcaml,
                  oUnit

Test ppx_hardcaml_test
  TestTools:        ppx_hardcaml_test
  Command:          $ppx_hardcaml_test
  Run$:             flag(tests)
  WorkingDirectory: tests
